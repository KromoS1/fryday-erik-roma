(this["webpackJsonpfr-lessons"]=this["webpackJsonpfr-lessons"]||[]).push([[0],{122:function(e,t,n){e.exports={page:"AppStyle_page__1eeP1"}},130:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(28),i=n.n(a),o=(n(130),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,226)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))}),c=n(13),l=n(76),u=n(111),d=n(84),j=n.n(d),b=n(112),m=n(8),O=n(113),f=n.n(O).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),_=function(e){return f.post("/auth/login",Object(m.a)({},e))},h=function(){return f.delete("/auth/me")},p=function(e){return f.post("/auth/register",Object(m.a)({},e)).then((function(e){return e.data}))},g=function(){return f.post("/auth/me").then((function(e){return e.data}))},x=function(e){return f.post("/auth/forgot",Object(m.a)({},e))},S=function(e){return f.post("/auth/set-new-password",e).then((function(e){return e.data}))},w=function(e){return{type:"PROFILE/SET_USER_DATA",payload:Object(m.a)({},e)}},v={_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:"",updated:"",isAdmin:!1,rememberMe:!1,verified:!0},y={isAuth:!1,isInitialize:!1},N=function(e){return{type:"LOGIN/SET_IS_AUTH",isAuth:e}},P=n(10),E=n(1),R={error:null},T=function(e){return function(t){p(e).then((function(e){e&&P.a})).catch((function(e){var n=e.response?"".concat(e.message," \n ").concat(e.response.data.error):"some error has occurred";t({type:"REGISTRATION/GET_REGISTERED_REQUEST",error:n})}))}},I={isSend:!1},F={setPasswordStatus:!1},L=function(e){return{type:"PASSWORD/SET_CHANGED_STATUS",status:e}},C=Object(l.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/SET_USER_DATA":return Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/SET_IS_AUTH":return Object(m.a)(Object(m.a)({},e),{},{isAuth:t.isAuth});case"LOGIN/SET_IS_INITIALIZE":return Object(m.a)(Object(m.a)({},e),{},{isInitialize:t.isInit});default:return e}},registrationInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTRATION/GET_REGISTERED_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{error:t.error});default:return e}},recovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECOVERY/SET_SEND_STATUS":return Object(m.a)(Object(m.a)({},e),{},{isSend:t.sendStatus});default:return e}},creatingPasswordInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PASSWORD/SET_CHANGED_STATUS":return Object(m.a)(Object(m.a)({},e),{},{setPasswordStatus:t.status});default:return e}}}),A=Object(l.c)(C,Object(l.a)(u.a));window.store=window;var k=n(32),U=s.a.memo((function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("h1",{children:"404 Not found"})})})),D=n(41),G=n(223),H=n(37),z=n.n(H),q=n(224),M=n(44),B=n.n(M),J=function(e,t){return"email"===e?Object(E.jsx)(G.a.Item,{className:B.a.field,name:e,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(E.jsx)(q.a,{placeholder:t,size:"large",className:B.a.input})}):"password"===e?Object(E.jsx)(G.a.Item,{className:B.a.field,name:e,rules:[{min:8,message:"Password should be more than 8 character"},{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:Object(E.jsx)(q.a.Password,{placeholder:t,size:"large",className:B.a.input})}):"confirm"===e?Object(E.jsx)(G.a.Item,{className:B.a.field,name:e,dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(E.jsx)(q.a.Password,{placeholder:t,size:"large",className:B.a.input})}):void 0},Q=n(42),Y=n.n(Q),V=(n(220),{labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}}),X=function(e){var t=G.a.useForm(),n=Object(D.a)(t,1)[0];return Object(E.jsxs)("div",{className:Y.a.registration,children:[Object(E.jsx)("div",{className:Y.a.title,children:"Cards"}),Object(E.jsx)("div",{className:Y.a.titleName,children:Object(E.jsx)("h3",{children:"Sign Up"})}),Object(E.jsxs)(G.a,Object(m.a)(Object(m.a)({name:"register",className:Y.a.form},V),{},{form:n,onFinish:function(t){e.onSubmit(t)},children:[J("email","E-mail"),J("password","Password"),J("confirm","Confirm Password"),Object(E.jsxs)("div",{className:Y.a.buttons,children:[Object(E.jsx)("button",{className:Y.a.btnCan,children:"Cancel"}),Object(E.jsx)("button",{className:Y.a.btnReg,type:"submit",children:"Register"})]})]}))]})},Z=function(){var e=Object(c.b)();return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(X,{onSubmit:function(t){var n=t.email,r=t.password;e(T({email:n,password:r}))}})})},K=function(e){var t=G.a.useForm(),n=Object(D.a)(t,1)[0];return Object(E.jsxs)("div",{className:z.a.login,children:[Object(E.jsx)("div",{className:z.a.title,children:"Cards"}),Object(E.jsx)("div",{className:z.a.titleName,children:Object(E.jsx)("h3",{children:"Sign In"})}),Object(E.jsxs)(G.a,Object(m.a)(Object(m.a)({name:"login",className:z.a.form},V),{},{form:n,onFinish:function(t){e.onSubmit(t)},children:[J("email","E-mail"),J("password","Password"),Object(E.jsx)("div",{className:z.a.forgot,children:Object(E.jsx)("span",{children:Object(E.jsx)(k.b,{to:"/recovery-password",children:"Forgot Password"})})}),Object(E.jsx)("div",{className:z.a.buttons,children:Object(E.jsx)("button",{className:z.a.btnLogin,type:"submit",children:"Login"})}),Object(E.jsxs)("div",{className:z.a.signUp,children:[Object(E.jsx)("span",{children:"Don't have an account?"}),Object(E.jsx)(k.b,{to:"/registration",children:"Sign Up"})]})]}))]})},W=Object(r.memo)((function(){var e=Object(c.b)();if(Object(c.c)((function(e){return e.login.isAuth})))return Object(E.jsx)(P.a,{to:"/"});return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(K,{onSubmit:function(t){var n;e((n=t,function(e){_(n).then((function(t){e(w(t.data)),e(N(!0))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t)}))}))}})})})),$=n(45),ee=n.n($),te=Object(r.memo)((function(e){var t=e.onSubmit,n=G.a.useForm(),r=Object(D.a)(n,1)[0];return Object(E.jsxs)("div",{className:ee.a.newPasswordMain,children:[Object(E.jsx)("div",{className:ee.a.title,children:"Cards"}),Object(E.jsx)("div",{className:ee.a.titleName,children:Object(E.jsx)("h3",{children:"Create new password"})}),Object(E.jsxs)(G.a,Object(m.a)(Object(m.a)({name:"newPassword",className:ee.a.form,form:r,onFinish:function(e){t(e)}},V),{},{children:[J("password","Password"),J("confirm","Confirm Password"),Object(E.jsx)("div",{className:ee.a.buttons,children:Object(E.jsx)("button",{className:ee.a.btnSetPass,type:"submit",children:"Create new password"})})]}))]})})),ne=Object(r.memo)((function(){var e=Object(c.b)(),t=Object(P.g)().token;if(Object(c.c)((function(e){return e.creatingPasswordInfo.setPasswordStatus})))return Object(E.jsx)(P.a,{to:"/login"});return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(te,{onSubmit:function(n){var r,s=n.password;e((r={password:s,resetPasswordToken:t},function(e){S(r).then((function(t){t&&e(L(!0))})).catch((function(t){var n=t.response?"".concat(t.message," \n ").concat(t.response.data.error):"some error has occurred";e(L(!1)),console.log(n)})).finally((function(){e(L(!1))}))}))}})})})),re=n(39),se=n.n(re),ae=function(e){var t=G.a.useForm(),n=Object(D.a)(t,1)[0];return Object(E.jsxs)("div",{className:se.a.recoveryPassword,children:[Object(E.jsx)("div",{className:se.a.title,children:"Cards"}),Object(E.jsx)("div",{className:se.a.titleName,children:Object(E.jsx)("h3",{children:"Forgot your password?"})}),Object(E.jsxs)(G.a,Object(m.a)(Object(m.a)({name:"forgot password",className:se.a.form},V),{},{form:n,onFinish:function(t){e.onSubmit(t)},children:[J("email","E-mail"),Object(E.jsx)("div",{className:se.a.subtitle,children:"Enter your email address and we will send you future instructions"}),Object(E.jsx)("div",{className:se.a.buttons,children:Object(E.jsx)("button",{className:se.a.btnSend,type:"submit",children:"Send Instructions"})}),Object(E.jsxs)("div",{className:se.a.signUp,children:[Object(E.jsx)("span",{children:"Did you remember your password?"}),Object(E.jsx)(k.b,{to:"/login",children:"Try logging in"})]})]}))]})},ie=Object(r.memo)((function(){var e=Object(c.c)((function(e){return e.recovery.isSend})),t=Object(c.b)();return e?Object(E.jsx)(P.a,{to:"/chek-email"}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae,{onSubmit:function(e){var n;t((n={email:e.email,from:"test-front-admin <ai73a@yandex.by>",message:'<div>\n            <span>Follow the link to set a new password:</span>\n            <a href="http://localhost:3000/#/set-new-password/$token$">link</a>\n        </div>'},function(e){x(n).then((function(t){e({type:"RECOVERY/SET_SEND_STATUS",sendStatus:!0}),console.log(t)})).catch((function(e){console.log(e)}))}))}})})})),oe=function(e){var t="";return e.profile&&(t="Hello user"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:t}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{onClick:e.logOut,children:"Logout"})})]})},ce=Object(r.memo)((function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.profile}));if(!Object(c.c)((function(e){return e.login.isAuth})))return Object(E.jsx)(P.a,{to:"/login"});return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(oe,{profile:t,logOut:function(){e((function(e){h().then((function(t){t.data.info&&e(N(!1))}))}))}})})})),le=n(90),ue=n.n(le),de=function(){return Object(E.jsx)("div",{className:ue.a.preloader,children:Object(E.jsx)("div",{className:ue.a.preloader__image_animate})})},je=function(){return Object(E.jsx)("h1",{children:"Chek your email"})},be="/login",me="/profile",Oe="/registration",fe="/set-new-password/:token?",_e="/recovery-password",he="/chek-email",pe=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.login.isInitialize}));return Object(r.useEffect)((function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:(n=e.sent)?(t(w(n)),t(N(!0))):console.log("error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,t({type:"LOGIN/SET_IS_INITIALIZE",isInit:!0}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(P.d,{children:[Object(E.jsx)(P.b,{path:"/",exact:!0,render:function(){return Object(E.jsx)(P.a,{to:me})}}),Object(E.jsx)(P.b,{path:be,render:function(){return Object(E.jsx)(W,{})}}),Object(E.jsx)(P.b,{path:me,render:function(){return Object(E.jsx)(ce,{})}}),Object(E.jsx)(P.b,{path:Oe,render:function(){return Object(E.jsx)(Z,{})}}),Object(E.jsx)(P.b,{path:fe,render:function(){return Object(E.jsx)(ne,{})}}),Object(E.jsx)(P.b,{path:_e,render:function(){return Object(E.jsx)(ie,{})}}),Object(E.jsx)(P.b,{path:he,render:function(){return Object(E.jsx)(je,{})}}),Object(E.jsx)(P.b,{render:function(){return Object(E.jsx)(U,{})}})]})}):Object(E.jsx)("div",{children:Object(E.jsx)(de,{})})},ge=n(122),xe=n.n(ge),Se=function(){return Object(E.jsx)("div",{className:xe.a.page,children:Object(E.jsx)(pe,{})})};i.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(k.a,{children:Object(E.jsx)(c.a,{store:A,children:Object(E.jsx)(Se,{})})})}),document.getElementById("root")),o()},37:function(e,t,n){e.exports={login:"LoginStyle_login__1ZdBS",title:"LoginStyle_title__f4CK7",titleName:"LoginStyle_titleName__3R6q6",form:"LoginStyle_form__3Tm9Y",field:"LoginStyle_field__3KxjD",input:"LoginStyle_input__y7mHH",forgot:"LoginStyle_forgot__Lkegb",buttons:"LoginStyle_buttons__2yQ1-",btnLogin:"LoginStyle_btnLogin__2bBod",signUp:"LoginStyle_signUp__2z2bw"}},39:function(e,t,n){e.exports={recoveryPassword:"RecoveryPasswordStyle_recoveryPassword__3Dxcn",title:"RecoveryPasswordStyle_title__16SJH",titleName:"RecoveryPasswordStyle_titleName__2eL6q",subtitle:"RecoveryPasswordStyle_subtitle__Oekia",field:"RecoveryPasswordStyle_field__dE0X8",input:"RecoveryPasswordStyle_input__v-qoR",buttons:"RecoveryPasswordStyle_buttons__2poX9",btnSend:"RecoveryPasswordStyle_btnSend__2l-vH",signUp:"RecoveryPasswordStyle_signUp__M4kPz"}},42:function(e,t,n){e.exports={registration:"RegistrationStyle_registration__3D2-Y",title:"RegistrationStyle_title__RHLsn",titleName:"RegistrationStyle_titleName__2QBt5",form:"RegistrationStyle_form__3y5Tr",field:"RegistrationStyle_field__2Nk0M",input:"RegistrationStyle_input__3mpEb",buttons:"RegistrationStyle_buttons__1O5IL",btnCan:"RegistrationStyle_btnCan__3OqAl",btnReg:"RegistrationStyle_btnReg__13swf"}},44:function(e,t,n){e.exports={field:"FieldComponentStyle_field__38tLJ",input:"FieldComponentStyle_input__3Lg7-"}},45:function(e,t,n){e.exports={newPasswordMain:"NewPasswordStyle_newPasswordMain__3ty_8",title:"NewPasswordStyle_title__1jUJB",titleName:"NewPasswordStyle_titleName__Xw3F5",form:"NewPasswordStyle_form__2HhaA",buttons:"NewPasswordStyle_buttons__3rs-E",btnSetPass:"NewPasswordStyle_btnSetPass__3Hye_"}},90:function(e,t,n){e.exports={preloader:"Preloader_preloader__172fF",preloader__image_animate:"Preloader_preloader__image_animate__2fTCQ","up-down":"Preloader_up-down__2hFLc"}}},[[221,1,2]]]);
//# sourceMappingURL=main.6df93a27.chunk.js.map